exp <- get_experience()
exp <- exp[order(exp$date_start),]
out_vect <- str_glue_data(exp,glue_exp,.open="<",.close=">")
out_vect <- out_vect[1:6]
out_vect
out_vect <- matrix(out_vect,byrow = T,ncol=2)
out_vect <- str_glue_data(exp,glue_exp,.open="<",.close=">")
out_mat <- matrix(out_vect,byrow = T,ncol=2)
exp <- get_experience()
exp <- exp[order(exp$date_start),]
exp <- exp[1:6,]
out_vect <- str_glue_data(exp,glue_exp,.open="<",.close=">")
out_mat <- matrix(out_vect,byrow = T,ncol=2)
out_mat
dim(out_mat)
glue_exp <- "**{\\Large <title>}**\n*<company>*\n<month_start> - <month_end>\n<description>"
exp <- get_experience()
exp <- exp[order(exp$date_start),]
exp <- exp[1:6,]
out_vect <- str_glue_data(exp,glue_exp,.open="<",.close=">")
out_mat <- matrix(out_vect,byrow = T,ncol=2)
kable(out_mat)
pkgs <- c("configr","stringr","lubridate","here","kable")
pkgs_to_install <- setdiff(pkgs,row.names(installed.packages()))
install.packages(pkgs_to_install)
#pkgs <- vapply(pkgs,library,logical(1),character.only=T)
pkgs_loaded <- lapply(pkgs,library,character.only=T)
pkgs <- c("configr","stringr","lubridate","here","knitr")
pkgs_to_install <- setdiff(pkgs,row.names(installed.packages()))
install.packages(pkgs_to_install)
#pkgs <- vapply(pkgs,library,logical(1),character.only=T)
pkgs_loaded <- lapply(pkgs,library,character.only=T)
kable(out_mat)
col.names(out_mat) <- c("","")
colnames(out_mat) <- c("","")
kable(out_mat)
rmarkdown::render("pdf-build/make_pdf.Rmd",output_dir="assets/files",output_file="michael-barrowman-cv.pdf")
out_df <- as.data.frame(out_mat)
out_df
kable(out_df)
glue_exp <- "\\makecell{**{\\Large <title>}**\n*<company>*\n<month_start> - <month_end>\n<description>}"
exp <- get_experience()
exp <- exp[order(exp$date_start),]
exp <- exp[1:6,]
out_vect <- str_glue_data(exp,glue_exp,.open="<",.close=">")
out_mat <- matrix(out_vect,byrow = T,ncol=2)
colnames(out_mat) <- c("","")
out_df <- as.data.frame(out_mat)
kable(out_df)
out_vect
glue_exp <- "\\makecell{**{\\Large <title>}**\\\\*<company>*\\\\<month_start> - <month_end>\\\\<description>}"
exp <- get_experience()
exp <- exp[order(exp$date_start),]
exp <- exp[1:6,]
out_vect <- str_glue_data(exp,glue_exp,.open="<",.close=">")
out_mat <- matrix(out_vect,byrow = T,ncol=2)
colnames(out_mat) <- c("","")
out_df <- as.data.frame(out_mat)
kable(out_df)
out_mat
out_df
cat(out_df)
cat(out_df$V1)
glue_exp <- "\\makecell{**{\\Large <title>}**\\\\*<company>*\\\\<month_start> - <month_end>\\\\<description>}"
exp <- get_experience()
exp <- exp[order(exp$date_start),]
exp <- exp[1:6,]
out_vect <- str_glue_data(exp,glue_exp,.open="<",.close=">")
out_mat <- matrix(out_vect,byrow = T,ncol=2)
colnames(out_mat) <- c("L","R")
out_df <- as.data.frame(out_mat)
kable(out_df)
rmarkdown::render("pdf-build/make_pdf.Rmd",output_dir="assets/files",output_file="michael-barrowman-cv.pdf")
rmarkdown::render("pdf-build/make_pdf.Rmd",output_dir="assets/files",output_file="michael-barrowman-cv.pdf")
?kabel
?kable
kable(out_df,format="latex")
kable(out_df,format="latex")
library(kableExtra)
?kableExtra::`%>%`
glue_exp <- "**{\\Large <title>}**\n*<company>*\n<month_start> - <month_end>\n<description>"
exp <- get_experience()
exp <- exp[order(exp$date_start),]
exp <- exp[1:6,]
out_vect <- str_glue_data(exp,glue_exp,.open="<",.close=">")
out_lb <- linebreak(out_vect)
out_mat <- matrix(out_vect,byrow = T,ncol=2)
colnames(out_mat) <- c("L","R")
out_df <- as.data.frame(out_mat)
kable(out_df,"latex",booktabs=T,escape=F,
col.names=c("L","R"))
out_lb
out_mat <- matrix(out_lb,byrow = T,ncol=2)
glue_exp <- "**{\\Large <title>}**\n*<company>*\n<month_start> - <month_end>\n<description>"
exp <- get_experience()
exp <- exp[order(exp$date_start),]
exp <- exp[1:6,]
out_vect <- str_glue_data(exp,glue_exp,.open="<",.close=">")
out_lb <- linebreak(out_vect)
out_mat <- matrix(out_lb,byrow = T,ncol=2)
colnames(out_mat) <- c("L","R")
out_df <- as.data.frame(out_mat)
kable(out_df,"latex",booktabs=T,escape=F,
col.names=c("L","R"))
out_df
?kable
rmarkdown::render("pdf-build/make_pdf.Rmd",output_dir="assets/files",output_file="michael-barrowman-cv.pdf")
rmarkdown::render("pdf-build/make_pdf.Rmd",output_dir="assets/files",output_file="michael-barrowman-cv.pdf")
rmarkdown::render("pdf-build/make_pdf.Rmd",output_dir="assets/files",output_file="michael-barrowman-cv.pdf")
glue_exp <- "\\makecell{**{\\Large <title>}**\\\\*<company>*\\\\<month_start> - <month_end>\\\\<description>}"
exp <- get_experience()
exp <- exp[order(exp$date_start),]
exp <- exp[1:6,]
out_vect <- str_glue_data(exp,glue_exp,.open="<",.close=">")
out_mat <- matrix(out_vect,byrow = T,ncol=2)
out_mat
apply(out_mat,2,paste,collapse=" & ")
get_experience() %>%
arrange(date_start)
library(tidyverse)
get_experience() %>%
arrange(date_start)
get_experience() %>%
arrange(desc(date_start))
get_experience() %>%
arrange(desc(date_end))
get_experience() %>%
arrange(!is.na(date_end),desc(date_end))
get_experience() %>%
arrange(!is.na(date_end),desc(date_end),desc(date_start))
get_experience() %>%
arrange(!is.na(date_end),desc(date_end),desc(date_start)) %>%
slice(1:6) %>%
str_glue_data(glue_exp,.open="<",.close=">")
get_experience() %>%
arrange(!is.na(date_end),desc(date_end),desc(date_start)) %>%
slice(1:6) %>%
str_glue_data(glue_exp,.open="<",.close=">") %>%
matrix(byrow = T,ncol=2)
get_experience() %>%
arrange(!is.na(date_end),desc(date_end),desc(date_start)) %>%
slice(1:6) %>%
str_glue_data(glue_exp,.open="<",.close=">") %>%
matrix(byrow = T,ncol=2) %>%
as_tibble
get_experience() %>%
arrange(!is.na(date_end),desc(date_end),desc(date_start)) %>%
slice(1:6) %>%
str_glue_data(glue_exp,.open="<",.close=">") %>%
matrix(byrow = T,ncol=2) %>%
set_names(c("L","R")) %>%
as_tibble
?matrix
?set_names
library(magrittr)
get_experience() %>%
arrange(!is.na(date_end),desc(date_end),desc(date_start)) %>%
slice(1:6) %>%
str_glue_data(glue_exp,.open="<",.close=">") %>%
matrix(byrow = T,ncol=2) %>%
set_colnames(c("L","R")) %>%
as_tibble
glue_exp <- "**{\\Large <title>}**\n*<company>*\n<month_start> - <month_end>\n<description>}"
get_experience() %>%
arrange(!is.na(date_end),desc(date_end),desc(date_start)) %>%
slice(1:6) %>%
str_glue_data(glue_exp,.open="<",.close=">") %>%
matrix(byrow = T,ncol=2) %>%
linebreak %>%
set_colnames(c("L","R")) %>%
as_tibble %>%
kable("latex",booktabs=T,escape=F)
glue_exp <- "**{\\Large <title>}**\n*<company>*\n<month_start> - <month_end>\n<description>}"
get_experience() %>%
arrange(!is.na(date_end),desc(date_end),desc(date_start)) %>%
slice(1:6) %>%
str_glue_data(glue_exp,.open="<",.close=">") %>%
linebreak %>%
matrix(byrow = T,ncol=2) %>%
set_colnames(c("L","R")) %>%
as_tibble %>%
kable("latex",booktabs=T,escape=F)
glue_exp <- "**{\\Large <title>}**\n*<company>*\n<month_start> - <month_end>\n<description>}"
get_experience() %>%
arrange(!is.na(date_end),desc(date_end),desc(date_start)) %>%
slice(1:6) %>%
str_glue_data(glue_exp,.open="<",.close=">") %>%
linebreak %>%
matrix(byrow = T,ncol=2) %>%
set_colnames(c("L","R")) %>%
as_tibble %>%
kable("latex",booktabs=T,escape=F)
get_experience() %>%
arrange(!is.na(date_end),desc(date_end),desc(date_start)) %>%
slice(1:6) %>%
str_glue_data(glue_exp,.open="<",.close=">") %>%
linebreak %>%
matrix(byrow = T,ncol=2) %>%
set_colnames(c("L","R")) %>%
as_tibble %>%
kable("latex",booktabs=T,escape=F)
get_experience() %>%
arrange(!is.na(date_end),desc(date_end),desc(date_start)) %>%
slice(1:6) %>%
str_glue_data(glue_exp,.open="<",.close=">") %>%
linebreak %>%
matrix(byrow = T,ncol=2) %>%
set_colnames(c("L","R")) %>%
as_tibble
rmarkdown::render("pdf-build/make_pdf.Rmd",output_dir="assets/files",output_file="michael-barrowman-cv.pdf")
?here
here
here("pdf-build","pre_load.R")
rmarkdown::render("pdf-build/make_pdf.Rmd",output_dir="assets/files",output_file="michael-barrowman-cv.pdf")
knitr::opts_chunk$set(echo = TRUE)
library(here)
source(here::here("pdf-build","pre_load.R"))
glue_exp <- "<title>"
get_experience() %>%
arrange(!is.na(date_end),desc(date_end),desc(date_start)) %>%
slice(1:6) %>%
str_glue_data(glue_exp,.open="<",.close=">") %>%
linebreak %>%
matrix(byrow = T,ncol=2) %>%
set_colnames(c("L","R")) %>%
as_tibble %>%
kable("latex",booktabs=T,escape=F)
get_experience() %>%
arrange(!is.na(date_end),desc(date_end),desc(date_start)) %>%
slice(1:6) %>%
str_glue_data(glue_exp,.open="<",.close=">") %>%
linebreak %>%
matrix(byrow = T,ncol=2) %>%
set_colnames(c("L","R")) %>%
as_tibble
library(kableExtra)
get_experience() %>%
arrange(!is.na(date_end),desc(date_end),desc(date_start)) %>%
slice(1:6) %>%
str_glue_data(glue_exp,.open="<",.close=">") %>%
linebreak %>%
matrix(byrow = T,ncol=2) %>%
set_colnames(c("L","R")) %>%
as_tibble %>%
kable("latex",booktabs=T,escape=F)
?kable
get_experience() %>%
arrange(!is.na(date_end),desc(date_end),desc(date_start)) %>%
slice(1:6) %>%
str_glue_data(glue_exp,.open="<",.close=">") %>%
linebreak %>%
matrix(byrow = T,ncol=2) %>%
set_colnames(c("L","R")) %>%
as_tibble %>%
kable(booktabs=T,escape=F)
rmarkdown::render("pdf-build/make_pdf.Rmd",output_dir="assets/files",output_file="michael-barrowman-cv.pdf")
here::here("pdf-build","pre_load.R")
#rmarkdown::render("pdf-build/make_pdf.Rmd",output_dir="assets/files",output_file="michael-barrowman-cv.pdf")
knitr::opts_chunk$set(echo = TRUE)
source(here::here("pdf-build","pre_load.R"))
rmarkdown::render("pdf-build/make_pdf.Rmd",output_dir="assets/files",output_file="michael-barrowman-cv.pdf")
getwd()
rmarkdown::render(here::here("pdf-build","make_pdf.Rmd"),output_dir=here::here("assets","files"),output_file="michael-barrowman-cv.pdf")
rmarkdown::render(here::here("pdf-build","make_pdf.Rmd"),output_dir=here::here("assets","files"),output_file="michael-barrowman-cv.pdf")
knitr::opts_chunk$set(echo = TRUE)
source(here::here("pdf-build","pre_load.R"))
rmarkdown::render(here::here("pdf-build","make_pdf.Rmd"),output_dir=here::here("assets","files"),output_file="michael-barrowman-cv.pdf")
rmarkdown::render(here::here("pdf-build","make_pdf.Rmd"),output_dir=here::here("assets","files"),output_file="michael-barrowman-cv.pdf")
glue_exp <- "<title>"
get_experience() %>%
arrange(!is.na(date_end),desc(date_end),desc(date_start)) %>%
slice(1:6) %>%
str_glue_data(glue_exp,.open="<",.close=">") %>%
linebreak %>%
matrix(byrow = T,ncol=2) %>%
set_colnames(c("L","R")) %>%
as_tibble %>%
kable(booktabs=T,escape=F,col.names=NULL)
names(get_experience())
?column_space
?column_spaec
?column_spec
glue_exp <- "**{\large <title>}**\n*\textcolor{lightgray}{<company>}*\n<month_start> - <month_end>\n<description>"
glue_exp <- "**{\\large <title>}**\n*\textcolor{lightgray}{<company>}*\n<month_start> - <month_end>\n<description>"
get_experience() %>%
arrange(!is.na(date_end),desc(date_end),desc(date_start)) %>%
slice(1:6) %>%
str_glue_data(glue_exp,.open="<",.close=">") %>%
linebreak %>%
matrix(byrow = T,ncol=2) %>%
set_colnames(c("L","R")) %>%
as_tibble %>%
kable(booktabs=T,escape=F,col.names=NULL) %>%
column_spec(1:2,width="50%")
rmarkdown::render(here::here("pdf-build","make_pdf.Rmd"),output_dir=here::here("assets","files"),output_file="michael-barrowman-cv.pdf")
rmarkdown::render(here::here("pdf-build","make_pdf.Rmd"),output_dir=here::here("assets","files"),output_file="michael-barrowman-cv.pdf")
rmarkdown::render(here::here("pdf-build","make_pdf.Rmd"),output_dir=here::here("assets","files"),output_file="michael-barrowman-cv.pdf")
rmarkdown::render(here::here("pdf-build","make_pdf.Rmd"),output_dir=here::here("assets","files"),output_file="michael-barrowman-cv.pdf")
rmarkdown::render(here::here("pdf-build","make_pdf.Rmd"),output_dir=here::here("assets","files"),output_file="michael-barrowman-cv.pdf")
glue_exp <- "**{\\large <title>}**\n*\\textcolor{lightgray}{<company>}*\n<month_start> - <month_end>\n<description>"
get_experience() %>%
arrange(!is.na(date_end),desc(date_end),desc(date_start)) %>%
slice(1:6) %>%
str_glue_data(glue_exp,.open="<",.close=">") %>%
linebreak %>%
matrix(byrow = T,ncol=2) %>%
set_colnames(c("L","R")) %>%
as_tibble %>%
kable(booktabs=T,escape=F,col.names=NULL)
glue_exp <- "**{\\large <title>}**\n*\\textcolor{lightgray}{<company>}*\n<month_start> - <month_end>\n<description>"
get_experience() %>%
arrange(!is.na(date_end),desc(date_end),desc(date_start)) %>%
slice(1:6) %>%
str_glue_data(glue_exp,.open="<",.close=">") %>%
linebreak %>%
matrix(byrow = T,ncol=2) %>%
set_colnames(c("L","R")) %>%
as_tibble %>%
kable("latex",booktabs=T,escape=F,col.names=NULL)
rmarkdown::render(here::here("pdf-build","make_pdf.Rmd"),output_dir=here::here("assets","files"),output_file="michael-barrowman-cv.pdf")
rmarkdown::render(here::here("pdf-build","make_pdf.Rmd"),output_dir=here::here("assets","files"),output_file="michael-barrowman-cv.pdf")
rmarkdown::render(here::here("pdf-build","make_pdf.Rmd"),output_dir=here::here("assets","files"),output_file="michael-barrowman-cv.pdf")
rmarkdown::render(here::here("pdf-build","make_pdf.Rmd"),output_dir=here::here("assets","files"),output_file="michael-barrowman-cv.pdf")
glue_exp <- "**{\\large <title>}**\n*\\textcolor{lightgray}{<company>}*\n<month_start> - <month_end>\n<description>"
glue_exp <- "<title>"
get_experience() %>%
arrange(!is.na(date_end),desc(date_end),desc(date_start)) %>%
slice(1:6) %>%
str_glue_data(glue_exp,.open="<",.close=">") %>%
gsub("&","\\&",.) %>%
linebreak %>%
matrix(byrow = T,ncol=2) %>%
set_colnames(c("L","R")) %>%
as_tibble %>%
kable("latex",booktabs=T,escape=F,col.names=NULL)
rmarkdown::render(here::here("pdf-build","make_pdf.Rmd"),output_dir=here::here("assets","files"),output_file="michael-barrowman-cv.pdf")
rmarkdown::render(here::here("pdf-build","make_pdf.Rmd"),output_dir=here::here("assets","files"),output_file="michael-barrowman-cv.pdf")
rmarkdown::render(here::here("pdf-build","make_pdf.Rmd"),output_dir=here::here("assets","files"),output_file="michael-barrowman-cv.pdf")
rmarkdown::render(here::here("pdf-build","make_pdf.Rmd"),output_dir=here::here("assets","files"),output_file="michael-barrowman-cv.pdf")
blogdown::serve_site()
?blogdown::new_post("Getting a variable name in a pipeline")
?blogdown::new_post("Getting a variable name in a pipeline",ext=".Rmd")
blogdown::new_post("Getting a variable name in a pipeline",ext=".Rmd")
get_name <- function(x){
x_sym <- ensym(x)
as_name(x_sym)
}
my_variable <- 1
get_name(myvariable)
my_variable %>% simple_get_name()
simple_get_name <- function(x){
x_sym <- ensym(x)
as_name(x_sym)
}
my_variable <- 1
simple_get_name(my_variable)
my_variable %>% simple_get_name()
sys.calls()
stack_fun <- function(x){
sys.calls()
}
stack_fun(myDF)
myDF %>% stack_fun
stop_server()
blogdown::stop_server()
stack_fun <- function(x){
sys.calls()
}
stack_fun(my_variable)
my_variable %>% stack_fun
stacked_get_name <- function(x){
first_call <- sys.calls()[[1]] #get the first entry on the call stack
lhs <- first_call[[2]] #get the second element of this entry
z <- rlang::as_name(lhs)
print(z)
}
my_variable %>% stacked_get_name()
wrap_get_name <- function(wrapped_var){
this_var <- wrapped_var+1
this_var %>% stacked_get_name
}
wrap_get_name(my_variable)
n <- 1000
x <- rnorm(n)
bench::mark(
len = x[length(x)],
rev = rev(x)[1]
)
bench::mark(
len = x[length(x)],
rev = rev(x)[1],
last = last(x)
)
last <- function(x) x[length(x)]
bench::mark(
len = x[length(x)],
rev = rev(x)[1],
last = last(x)
)
n <- 100
X <- list()
for(i in 1:n)
X[[i]] <- rnorm(n)
length(X)
lapply(X,length)
length(X)
sapply(X,length)
bench::mark(
ord = X[[1]][[2]],
vec = X[[c(1,2)]]
)
?get_name
get_name <- function(x){
lhs <- get_lhs()
if(is.null(lhs)){
lhs <- rlang::ensym(x)
}
as_name(lhs)
}
get_name(my_variable)
get_lhs <- function(){
calls <- sys.calls()
#pull out the function or operator (e.g. the `%>%`)
call_firsts <- lapply(calls,`[[`,1)
#check which ones are equal to the pipe
pipe_calls <- vapply(call_firsts,identical,logical(1),quote(`%>%`))
#if we have no pipes, then get_lhs() was called incorrectly
if(all(!pipe_calls)){
NULL
} else {
#Get the most recent pipe, lowest on the
pipe_calls <- which(pipe_calls)
pipe_calls <- pipe_calls[length(pipe_calls)]
#Get the second element of the pipe call
calls[[c(pipe_calls,2)]]
}
}
get_name <- function(x){
lhs <- get_lhs()
if(is.null(lhs)){
lhs <- rlang::ensym(x)
}
as_name(lhs)
}
get_name(my_variable)
my_variable %>% get_name
wrap_get_name <- function(wrapped_var){
this_variable <- wrapped_var+1
this_variable %>% get_name
}
wrap_get_name(my_variable)
wrap_get_name <- function(wrapped_var){
this_variable <- wrapped_var+1
this_variable %>% get_name
}
wrap_get_name(my_variable)
my_variable %>% wrap_get_name
fseq_get_name <- . %>% get_name
fseq_get_name(my_variable) #returns "."
my_variable %>% fseq_get_name
function(.)
simple_get_name(.)
stack_fun <- function(x){
sys.calls()
}
stack_fun(my_variable)
my_variable %>% stack_fun
my_variable %>% get_name
library(magrittr)
my_variable %>% add(2) %>% get_name
magrittr:::is_pipe
pipe
magrittr:::pipe
magrittr:::split_chain
is.call
get_lhs <- function(){
calls <- sys.calls()
#pull out the function or operator (e.g. the `%>%`)
call_firsts <- lapply(calls,`[[`,1)
#check which ones are equal to the pipe
pipe_calls <- vapply(call_firsts,identical,logical(1),quote(`%>%`))
#if we have no pipes, then get_lhs() was called incorrectly
if(all(!pipe_calls)){
NULL
} else {
#Get the most recent pipe, lowest on the
pipe_calls <- which(pipe_calls)
pipe_calls <- pipe_calls[length(pipe_calls)]
#Get the second element of the pipe call
this_call <- calls[[c(pipe_calls,2)]]
#We need to dig down into the call to find the original
while(is.call(this_call) && identical(this_call[[1]],quote(`%>%`))){
this_call <- this_call[[2]]
}
this_call
}
}
get_name <- function(x){
lhs <- get_lhs()
if(is.null(lhs)){
lhs <- rlang::ensym(x)
}
as_name(lhs)
}
get_name(my_variable)
my_variable %>% get_name
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
?rmarkdown
